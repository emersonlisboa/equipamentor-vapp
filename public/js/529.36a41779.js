"use strict";(self["webpackChunkmes_app"]=self["webpackChunkmes_app"]||[]).push([[529],{529:(e,t,l)=>{l.r(t),l.d(t,{default:()=>j});var a=l(3673),o=l(2323);const n=(0,a._)("div",{class:"text-weight-bold text-h4 q-pb-md"},"Departamentos",-1),i={class:"row justify-between items-end content-start"},r={class:"col-md-4 col-sm-12 col-xs-12"},s={class:"q-gutter-md q-pt-md row reverse"},d={class:"col q-pt-md"},c=(0,a.Uk)(" Editar "),m={class:"row"},p=(0,a._)("div",{class:"q-ml-md text-h5"},"Novo Departamento",-1),u={class:"q-mt-lg"};function g(e,t,l,g,y,b){const w=(0,a.up)("q-icon"),f=(0,a.up)("q-input"),v=(0,a.up)("q-btn"),q=(0,a.up)("q-td"),h=(0,a.up)("q-tooltip"),_=(0,a.up)("q-table"),W=(0,a.up)("q-toolbar-title"),Z=(0,a.up)("q-toolbar"),C=(0,a.up)("q-toggle"),k=(0,a.up)("q-form"),Q=(0,a.up)("q-card-section"),V=(0,a.up)("q-card"),S=(0,a.up)("q-dialog"),B=(0,a.up)("q-page"),x=(0,a.up)("q-page-container"),D=(0,a.up)("q-layout"),T=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(D,null,{default:(0,a.w5)((()=>[(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(B,{padding:""},{default:(0,a.w5)((()=>[n,(0,a._)("div",i,[(0,a._)("div",r,[(0,a.Wm)(f,{outlined:"","bg-color":"grey-12",color:"primary",type:"text",label:"Localizar...",dense:"",modelValue:g.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>g.filter=e)},{append:(0,a.w5)((()=>[(0,a.Wm)(w,{name:"search"})])),_:1},8,["modelValue"])]),(0,a._)("div",s,[(0,a.Wm)(v,{color:"primary",icon:"add",label:"Adicionar",onClick:t[1]||(t[1]=e=>g.toolbar=!0)}),(0,a.Wm)(v,{outline:"",color:"primary",label:"Export"}),(0,a.Wm)(v,{outline:"",color:"primary",onClick:t[2]||(t[2]=e=>g.viewStyle=!g.viewStyle),icon:"toc"})])]),(0,a._)("div",d,[(0,a.Wm)(_,{class:"my-sticky-header-table",rows:g.departments.data,columns:g.Table,"row-key":"name",grid:g.viewStyle,loading:g.loading,filter:g.filter},{"body-cell-Status":(0,a.w5)((e=>[(0,a.Wm)(q,{props:e,class:"q-gutter-x-sm"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(1==e.row.status?"ATIVO":"INATIVO"),1)])),_:2},1032,["props"])])),"body-cell-actions":(0,a.w5)((t=>[(0,a.Wm)(q,{props:t,class:"q-gutter-x-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{outline:"",color:"primary",icon:"edit",dense:"",onClick:e.onClick},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[c])),_:1})])),_:1},8,["onClick"]),(0,a.Wm)(v,{outline:"",color:"negative",icon:"delete",dense:"",onClick:e=>g.onRemoveDepartment(t.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","grid","loading","filter"])]),(0,a.Wm)(S,{modelValue:g.toolbar,"onUpdate:modelValue":t[7]||(t[7]=e=>g.toolbar=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{style:{width:"85vw","max-width":"600px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{class:"q-pt-md q-pb-md"},{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a.Wm)(w,{name:"account_balance",size:"md"}),p])])),_:1}),(0,a.wy)((0,a.Wm)(v,{flat:"",round:"",dense:"",icon:"close"},null,512),[[T]])])),_:1}),(0,a.Wm)(Q,null,{default:(0,a.w5)((()=>[(0,a._)("div",u,[(0,a.Wm)(k,{onSubmit:g.onSubmit,onReset:g.onReset,class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{outlined:"","bg-color":"grey-11",color:"primary",modelValue:g.departmentBody.title,"onUpdate:modelValue":t[3]||(t[3]=e=>g.departmentBody.title=e),type:"text",label:"Descricao","lazy-rules":"",rules:[e=>e&&e.length>5||"Preencha o campo descrição corretamente...Precisa conter no mínimo 5 caracteres!"]},null,8,["modelValue","rules"]),(0,a.Wm)(f,{outlined:"","bg-color":"grey-11",color:"primary",modelValue:g.departmentBody.initial,"onUpdate:modelValue":t[4]||(t[4]=e=>g.departmentBody.initial=e),type:"text",label:"Iniciais"},null,8,["modelValue"]),(0,a.Wm)(C,{outlined:"","bg-color":"grey-11",color:"primary",modelValue:g.departmentBody.status,"onUpdate:modelValue":t[5]||(t[5]=e=>g.departmentBody.status=e),label:"Status"},null,8,["modelValue"]),(0,a._)("div",null,[(0,a.Wm)(v,{label:"Salvar",type:"submit",onClick:t[6]||(t[6]=e=>b.createDepartment()),color:"primary"}),(0,a.Wm)(v,{label:"Apagar",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}var y=l(1959),b=l(52),w=l.n(b),f=l(8825);function v(){return"Emerson lisboa"}const q={name:"listDepartment",methods:{async createDepartment(){this.departmentBody.initial=this.departmentBody.initial.toUpperCase();try{await w().post("https://mes-app-a6wbv.ondigitalocean.app/department",this.departmentBody),this.onReset()}catch(e){console.log(e.response.data.message)}}},setup(){const e=(0,f.Z)(),t=(0,y.iH)(!0),l=(0,y.iH)(!1);let o=(0,y.iH)(""),n=(0,y.iH)(!1),i=(0,y.iH)(!1),r=(0,y.iH)(""),s=v;const d=[{name:"Descição",required:!0,label:"Descrição",align:"left",field:"title",sortable:!0},{name:"Iniciais",required:!0,label:"Iniciais",align:"left",field:"initial",sortable:!0},{name:"Status",required:!0,label:"Status",align:"left",field:"status",sortable:!0},{name:"actions",required:!0,label:"Actions",align:"right",field:"actions",sortable:!0}];let c=(0,y.iH)({title:"",initial:"",status:!0});const m=async()=>{try{o.value=await w().get("https://mes-app-a6wbv.ondigitalocean.app/department"),i.value=!1,console.log(s)}catch(e){console.log(e)}},p=async e=>{try{o.value=await w()["delete"](`https://mes-app-a6wbv.ondigitalocean.app/department/${e}`),i.value=!1}catch(t){console.log(t)}},u=async t=>{try{console.log(t.title+t.id),e.dialog({title:"Confirm",message:`Are you sure you want to remove <strong>${t.title}</strong>`,cancel:!0,persistent:!0,html:!0,cancel:{color:"primary"},ok:{color:"negative"}}).onOk((async()=>{await p(t.id),await m(),e.notify({color:"green",message:"Successefully removed"})})).onCancel((()=>{console.log(">>>> Cancel")}))}catch(l){}};return(0,a.bv)((()=>{i.value=!0,m(),console.log(o.value)})),{toolbar:l,status:t,departmentBody:c,departments:o,Table:d,viewStyle:n,loading:i,filter:r,onRemoveDepartment:u,removeDepartment:p,onSubmit(){e.notify({color:"green-13",textColor:"white",icon:"cloud_done",position:"top",message:"Departamento cadastrado com sucesso!",timeout:3e3})},onReset(){console.log("apagar"),this.departmentBody.title="",this.departmentBody.initial="",this.departmentBody.status="true"}}}};var h=l(4260),_=l(3066),W=l(2652),Z=l(4379),C=l(4842),k=l(4554),Q=l(8240),V=l(6429),S=l(3884),B=l(8870),x=l(6778),D=l(151),T=l(9570),I=l(3747),U=l(5589),H=l(5269),R=l(8886),A=l(6115),P=l(677),z=l(7518),E=l.n(z);const O=(0,h.Z)(q,[["render",g]]),j=O;E()(q,"components",{QLayout:_.Z,QPageContainer:W.Z,QPage:Z.Z,QInput:C.Z,QIcon:k.Z,QBtn:Q.Z,QTable:V.Z,QTd:S.Z,QTooltip:B.Z,QDialog:x.Z,QCard:D.Z,QToolbar:T.Z,QToolbarTitle:I.Z,QCardSection:U.Z,QForm:H.Z,QToggle:R.Z,QField:A.Z}),E()(q,"directives",{ClosePopup:P.Z})}}]);